<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Types of data objects | R Tools for Quantitative Data Analysis</title>
  <meta name="description" content="Chapter 2 Types of data objects | R Tools for Quantitative Data Analysis" />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Types of data objects | R Tools for Quantitative Data Analysis" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Types of data objects | R Tools for Quantitative Data Analysis" />
  
  
  

<meta name="author" content="Nick Garvin" />


<meta name="date" content="2022-06-03" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="getting-started.html"/>
<link rel="next" href="obtaining-data.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://glowing-blancmange-f08364.netlify.app/index.html">R Tools for Quantitative Data Analysis</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="1" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>1</b> Getting started</a>
<ul>
<li class="chapter" data-level="1.1" data-path="getting-started.html"><a href="getting-started.html#getting-started-what-is"><i class="fa fa-check"></i><b>1.1</b> What is a line of R code?</a></li>
<li class="chapter" data-level="1.2" data-path="getting-started.html"><a href="getting-started.html#coding-style"><i class="fa fa-check"></i><b>1.2</b> Coding style</a></li>
<li class="chapter" data-level="1.3" data-path="getting-started.html"><a href="getting-started.html#getting-started-packages"><i class="fa fa-check"></i><b>1.3</b> Base R and installing packages</a></li>
<li class="chapter" data-level="1.4" data-path="getting-started.html"><a href="getting-started.html#example-code-to-play-with"><i class="fa fa-check"></i><b>1.4</b> Example code to play with</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="object-types.html"><a href="object-types.html"><i class="fa fa-check"></i><b>2</b> Types of data objects</a>
<ul>
<li class="chapter" data-level="2.1" data-path="object-types.html"><a href="object-types.html#vectors"><i class="fa fa-check"></i><b>2.1</b> Vectors</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="object-types.html"><a href="object-types.html#numeric-vectors"><i class="fa fa-check"></i><b>2.1.1</b> Numeric vectors</a></li>
<li class="chapter" data-level="2.1.2" data-path="object-types.html"><a href="object-types.html#character-vectors"><i class="fa fa-check"></i><b>2.1.2</b> Character vectors</a></li>
<li class="chapter" data-level="2.1.3" data-path="object-types.html"><a href="object-types.html#factor-vectors"><i class="fa fa-check"></i><b>2.1.3</b> Factor vectors</a></li>
<li class="chapter" data-level="2.1.4" data-path="object-types.html"><a href="object-types.html#logical-vectors"><i class="fa fa-check"></i><b>2.1.4</b> Logical vectors</a></li>
<li class="chapter" data-level="2.1.5" data-path="object-types.html"><a href="object-types.html#date-vectors"><i class="fa fa-check"></i><b>2.1.5</b> Date vectors</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="object-types.html"><a href="object-types.html#vector-operations-and-indexing"><i class="fa fa-check"></i><b>2.2</b> Vector operations and indexing</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="object-types.html"><a href="object-types.html#object-types-vector-wise"><i class="fa fa-check"></i><b>2.2.1</b> Vector-wise operations and recycling</a></li>
<li class="chapter" data-level="2.2.2" data-path="object-types.html"><a href="object-types.html#named-vector-elements"><i class="fa fa-check"></i><b>2.2.2</b> Named vector elements</a></li>
<li class="chapter" data-level="2.2.3" data-path="object-types.html"><a href="object-types.html#how-to-index-vectors"><i class="fa fa-check"></i><b>2.2.3</b> How to index vectors</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="object-types.html"><a href="object-types.html#arrays"><i class="fa fa-check"></i><b>2.3</b> Arrays</a></li>
<li class="chapter" data-level="2.4" data-path="object-types.html"><a href="object-types.html#data-frames"><i class="fa fa-check"></i><b>2.4</b> Data frames</a></li>
<li class="chapter" data-level="2.5" data-path="object-types.html"><a href="object-types.html#lists"><i class="fa fa-check"></i><b>2.5</b> Lists</a></li>
<li class="chapter" data-level="2.6" data-path="object-types.html"><a href="object-types.html#if-statements-and-for-loops"><i class="fa fa-check"></i><b>2.6</b> ‘If’ statements and ‘for’ loops</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="object-types.html"><a href="object-types.html#if-statements"><i class="fa fa-check"></i><b>2.6.1</b> If statements</a></li>
<li class="chapter" data-level="2.6.2" data-path="object-types.html"><a href="object-types.html#object-types-loops"><i class="fa fa-check"></i><b>2.6.2</b> For loops</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="object-types.html"><a href="object-types.html#recap"><i class="fa fa-check"></i><b>2.7</b> Recap</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="obtaining-data.html"><a href="obtaining-data.html"><i class="fa fa-check"></i><b>3</b> Obtaining data</a>
<ul>
<li class="chapter" data-level="3.1" data-path="obtaining-data.html"><a href="obtaining-data.html#common-functions-for-importing-data"><i class="fa fa-check"></i><b>3.1</b> Common functions for importing data</a></li>
<li class="chapter" data-level="3.2" data-path="obtaining-data.html"><a href="obtaining-data.html#where-to-save-data"><i class="fa fa-check"></i><b>3.2</b> Where to save data</a></li>
<li class="chapter" data-level="3.3" data-path="obtaining-data.html"><a href="obtaining-data.html#import-data-projects"><i class="fa fa-check"></i><b>3.3</b> Setting up an RStudio project</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="obtaining-data.html"><a href="obtaining-data.html#when-to-use-packages-instead-of-projects"><i class="fa fa-check"></i><b>3.3.1</b> When to use packages instead of projects</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>4</b> Functions (and environments)</a>
<ul>
<li class="chapter" data-level="4.1" data-path="functions.html"><a href="functions.html#functions-user-defined-functions"><i class="fa fa-check"></i><b>4.1</b> How to write functions</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="functions.html"><a href="functions.html#why-put-your-operations-inside-user-defined-functions"><i class="fa fa-check"></i><b>4.1.1</b> Why put your operations inside user-defined functions?</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="functions.html"><a href="functions.html#functions-environments"><i class="fa fa-check"></i><b>4.2</b> Environments</a></li>
<li class="chapter" data-level="4.3" data-path="functions.html"><a href="functions.html#functions-apply"><i class="fa fa-check"></i><b>4.3</b> Applying functions repeatedly</a></li>
<li class="chapter" data-level="4.4" data-path="functions.html"><a href="functions.html#debugging-user-defined-functions"><i class="fa fa-check"></i><b>4.4</b> Debugging user-defined functions</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="functions.html"><a href="functions.html#the-browser-function"><i class="fa fa-check"></i><b>4.4.1</b> The browser() function</a></li>
<li class="chapter" data-level="4.4.2" data-path="functions.html"><a href="functions.html#the-errorrecover-setting"><i class="fa fa-check"></i><b>4.4.2</b> The error=recover setting</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-table-and-magrittr.html"><a href="data-table-and-magrittr.html"><i class="fa fa-check"></i><b>5</b> The data.table and magrittr packages</a>
<ul>
<li class="chapter" data-level="5.1" data-path="data-table-and-magrittr.html"><a href="data-table-and-magrittr.html#first-load-the-two-packages"><i class="fa fa-check"></i><b>5.1</b> First load the two packages</a></li>
<li class="chapter" data-level="5.2" data-path="data-table-and-magrittr.html"><a href="data-table-and-magrittr.html#the-magrittr-package-aka-pipes"><i class="fa fa-check"></i><b>5.2</b> The magrittr package, AKA pipes</a></li>
<li class="chapter" data-level="5.3" data-path="data-table-and-magrittr.html"><a href="data-table-and-magrittr.html#the-data.table-package"><i class="fa fa-check"></i><b>5.3</b> The data.table package</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="data-table-and-magrittr.html"><a href="data-table-and-magrittr.html#data-table-index-shortcuts"><i class="fa fa-check"></i><b>5.3.1</b> Row and column indexing utilises shortcuts</a></li>
<li class="chapter" data-level="5.3.2" data-path="data-table-and-magrittr.html"><a href="data-table-and-magrittr.html#data-table-assignment"><i class="fa fa-check"></i><b>5.3.2</b> The in-place assignment operator <code>:=</code></a></li>
<li class="chapter" data-level="5.3.3" data-path="data-table-and-magrittr.html"><a href="data-table-and-magrittr.html#data-table-by"><i class="fa fa-check"></i><b>5.3.3</b> Operations <u>by groups</u> of rows</a></li>
<li class="chapter" data-level="5.3.4" data-path="data-table-and-magrittr.html"><a href="data-table-and-magrittr.html#data-table-functions"><i class="fa fa-check"></i><b>5.3.4</b> Handy data.table functions</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="data-table-and-magrittr.html"><a href="data-table-and-magrittr.html#data-table-magrittr"><i class="fa fa-check"></i><b>5.4</b> Combining data.table and magrittr</a></li>
<li class="chapter" data-level="5.5" data-path="data-table-and-magrittr.html"><a href="data-table-and-magrittr.html#packages-why-not-dplyr"><i class="fa fa-check"></i><b>5.5</b> Why data.table rather than dplyr here</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="graphs.html"><a href="graphs.html"><i class="fa fa-check"></i><b>6</b> Graphs</a>
<ul>
<li class="chapter" data-level="6.1" data-path="graphs.html"><a href="graphs.html#base-r-or-ggplot"><i class="fa fa-check"></i><b>6.1</b> Base R or ggplot?</a></li>
<li class="chapter" data-level="6.2" data-path="graphs.html"><a href="graphs.html#base-r-graph-examples"><i class="fa fa-check"></i><b>6.2</b> Base R graph examples</a></li>
<li class="chapter" data-level="6.3" data-path="graphs.html"><a href="graphs.html#ggplot-graph-examples"><i class="fa fa-check"></i><b>6.3</b> ggplot graph examples</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="coming-soon.html"><a href="coming-soon.html"><i class="fa fa-check"></i><b>7</b> Coming soon</a>
<ul>
<li class="chapter" data-level="7.1" data-path="coming-soon.html"><a href="coming-soon.html#workflow"><i class="fa fa-check"></i><b>7.1</b> Workflow</a></li>
<li class="chapter" data-level="7.2" data-path="coming-soon.html"><a href="coming-soon.html#good-habits"><i class="fa fa-check"></i><b>7.2</b> Good habits</a></li>
<li class="chapter" data-level="7.3" data-path="coming-soon.html"><a href="coming-soon.html#better-examples"><i class="fa fa-check"></i><b>7.3</b> Better examples</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R Tools for Quantitative Data Analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="object-types" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">Chapter 2</span> Types of data objects<a href="object-types.html#object-types" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Objects are pieces of data that are named and stored in the R session (AKA environment), ready for your code to call upon.</p>
<p><b>Indexing</b> is an essential operation that involves extracting a piece of a data object. Indexing is also used to modify objects, by assigning something to the indexed part of the object.</p>
<p><b>Functions</b> do things to data (and other) objects. Most lines of R code include at least a data object and a function. Functions are discussed in section <a href="functions.html#functions">4</a>.</p>
<p>This chapter covers a few key data types and how to index them, followed by a brief section on if statements and for loops. The final part is a recap, which you could read first if you like.</p>
<div id="vectors" class="section level2 hasAnchor" number="2.1">
<h2><span class="header-section-number">2.1</span> Vectors<a href="object-types.html#vectors" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><b>A vector stores any number of observations of a single variable</b>. In other words, a vector is a one-dimensional collection of data in which every element is the same type of data (think numbers versus text). <b>Vectors are the most fundamental type of data object in R</b>. The smallest unit of data is a one-element vector. If you type <code>1 + 3</code> into the console, R treats 1 and 3 as single-element vectors and returns a single-element vector containing 4.</p>
<p>Some preliminaries:</p>
<ul>
<li><u>Coercion</u>: R doesn’t permit different data types in the same vector. If, for example, you try to combine numbers and text, R will coerce the numbers to text (so math won’t work on them).</li>
<li><u>Missing or invalid data</u> are stored as <code>NA</code> for the missing elements. These can exist in any vector type and will typically produce another <code>NA</code> when operated on.
<ul>
<li><code>NaN</code> (not a number) is like <code>NA</code>, but represents the outcome of an impossible mathematical operation (e.g. <code>log(-1)</code>).</li>
</ul></li>
<li><u>Empy vectors</u>: <code>NULL</code> represents a vector that exists in the environment but contains nothing.</li>
</ul>
<p><strong>The most important vector types are</strong>:</p>
<ul>
<li>Numeric. Contain numbers.</li>
<li>Character (AKA strings). Contain words or other text.</li>
<li>Factor. Contain categorical variables.</li>
<li>Logical (AKA Boolean). Binary variables containing only special element types <code>TRUE</code> and <code>FALSE</code> (and <code>NA</code>).</li>
<li>Dates.</li>
</ul>
<div id="numeric-vectors" class="section level3 hasAnchor" number="2.1.1">
<h3><span class="header-section-number">2.1.1</span> Numeric vectors<a href="object-types.html#numeric-vectors" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Numeric vectors permit mathematical operations. Here, ‘numeric vectors’ is used to also refer to subtypes such as integer vectors.</p>
<p>Things to know:</p>
<ul>
<li><code>Inf</code> is a numeric value representing infinity – e.g. try typing <code>1 / 0</code>.</li>
<li><u>Scientific notation</u>. As shorthand, numbers can use <code>e</code> to denote how many powers of 10 the number is. For example <code>1.2e6</code> is 1.2 million and <code>3e-4</code> is 0.0003.</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="object-types.html#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="do">### Numeric vectors</span></span>
<span id="cb2-2"><a href="object-types.html#cb2-2" aria-hidden="true" tabindex="-1"></a>num_vec1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">8</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="fl">10.2</span>)  <span class="co"># c() function (combine) creates a vector from the inputs </span></span>
<span id="cb2-3"><a href="object-types.html#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">identical</span>(<span class="fu">c</span>(<span class="dv">2</span>), <span class="dv">2</span>)  <span class="co"># (Single-element vectors don&#39;t need to be created in c(), but can be) </span></span>
<span id="cb2-4"><a href="object-types.html#cb2-4" aria-hidden="true" tabindex="-1"></a>num_vec1</span>
<span id="cb2-5"><a href="object-types.html#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(num_vec1)  <span class="co"># Summarises the structure of num_vec1</span></span>
<span id="cb2-6"><a href="object-types.html#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(num_vec1)</span>
<span id="cb2-7"><a href="object-types.html#cb2-7" aria-hidden="true" tabindex="-1"></a>num_vec1 <span class="sc">/</span> <span class="dv">3</span></span>
<span id="cb2-8"><a href="object-types.html#cb2-8" aria-hidden="true" tabindex="-1"></a>num_vec2 <span class="ot">&lt;-</span> <span class="fu">runif</span>(<span class="at">n=</span><span class="dv">5</span>, <span class="at">min=</span><span class="sc">-</span><span class="dv">10</span>, <span class="at">max=</span><span class="dv">10</span>)  <span class="co"># Randomly draws from the uniform distribution</span></span>
<span id="cb2-9"><a href="object-types.html#cb2-9" aria-hidden="true" tabindex="-1"></a>num_vec2 <span class="sc">^</span> <span class="dv">2</span></span>
<span id="cb2-10"><a href="object-types.html#cb2-10" aria-hidden="true" tabindex="-1"></a>num_vec1 <span class="sc">+</span> num_vec2  <span class="co"># Won&#39;t operate (or recycle) due to different vector lengths</span></span>
<span id="cb2-11"><a href="object-types.html#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Note that line 11 worked because the vector &#39;3&#39; was recycled 5 times. Recycling was </span></span>
<span id="cb2-12"><a href="object-types.html#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="co">#   allowed in that instance because length 4 is a multiple of length 1.</span></span>
<span id="cb2-13"><a href="object-types.html#cb2-13" aria-hidden="true" tabindex="-1"></a>num_vec3 <span class="ot">&lt;-</span> <span class="fu">runif</span>(<span class="at">n=</span><span class="dv">4</span>, <span class="at">min=</span><span class="sc">-</span><span class="dv">10</span>, <span class="at">max=</span><span class="dv">10</span>)</span>
<span id="cb2-14"><a href="object-types.html#cb2-14" aria-hidden="true" tabindex="-1"></a>num_vec1 <span class="sc">+</span> num_vec3  <span class="co"># Works because same vector length</span></span>
<span id="cb2-15"><a href="object-types.html#cb2-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-16"><a href="object-types.html#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="do">### NA examples</span></span>
<span id="cb2-17"><a href="object-types.html#cb2-17" aria-hidden="true" tabindex="-1"></a>na_num_vec <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="cn">NA</span>, <span class="dv">7</span><span class="sc">:</span><span class="dv">10</span>)  <span class="co"># The : operator generates a vector of integers.</span></span>
<span id="cb2-18"><a href="object-types.html#cb2-18" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(na_num_vec)</span>
<span id="cb2-19"><a href="object-types.html#cb2-19" aria-hidden="true" tabindex="-1"></a>na_num_vec <span class="sc">+</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>  <span class="co"># Operations on NA typically produce another NA</span></span>
<span id="cb2-20"><a href="object-types.html#cb2-20" aria-hidden="true" tabindex="-1"></a><span class="fu">sqrt</span>(<span class="fu">c</span>(<span class="dv">9</span>, <span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="sc">-</span><span class="dv">1</span>))</span></code></pre></div>
</div>
<div id="character-vectors" class="section level3 hasAnchor" number="2.1.2">
<h3><span class="header-section-number">2.1.2</span> Character vectors<a href="object-types.html#character-vectors" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Character vectors can contain letters, spaces, symbols, numbers, etc. Each element is surrounded by inverted commas (either single or double, makes no difference).</p>
<p>Things to know:</p>
<ul>
<li>Powerful functions for modifying or searching character vectors include <code>paste()</code>, <code>grep()</code> (and related operator <code>%like%</code>), <code>gsub()</code>, <code>substr()</code> and <code>nchar()</code>, and their variants. These functions can do most of the things you’ll ever want to do with text.</li>
<li>When <code>NA</code> appears in a character vector, it appears as <code>&lt;NA&gt;</code>.</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="object-types.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="do">### Character vectors</span></span>
<span id="cb3-2"><a href="object-types.html#cb3-2" aria-hidden="true" tabindex="-1"></a>char_vec1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;put&#39;</span>, <span class="st">&#39;any&#39;</span>, <span class="st">&#39;TEXT&#39;</span>, <span class="st">&#39;at all&#39;</span>, <span class="st">&#39;in&#39;</span>, <span class="st">&#39;here.&#39;</span>)</span>
<span id="cb3-3"><a href="object-types.html#cb3-3" aria-hidden="true" tabindex="-1"></a>char_vec1</span>
<span id="cb3-4"><a href="object-types.html#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(char_vec1)</span>
<span id="cb3-5"><a href="object-types.html#cb3-5" aria-hidden="true" tabindex="-1"></a>char_vec2 <span class="ot">&lt;-</span> letters  <span class="co"># &#39;letters&#39; is an in-built vector containing the alphabet.</span></span>
<span id="cb3-6"><a href="object-types.html#cb3-6" aria-hidden="true" tabindex="-1"></a>char_vec3 <span class="ot">&lt;-</span> <span class="fu">head</span>(char_vec2, <span class="at">n=</span><span class="fu">length</span>(char_vec1))  <span class="co"># Takes the first n elements</span></span>
<span id="cb3-7"><a href="object-types.html#cb3-7" aria-hidden="true" tabindex="-1"></a>char_vec4 <span class="ot">&lt;-</span> <span class="fu">paste</span>(char_vec1, char_vec3, <span class="at">sep=</span><span class="st">&#39;_&#39;</span>)  <span class="co"># Concatenates the two vectors</span></span>
<span id="cb3-8"><a href="object-types.html#cb3-8" aria-hidden="true" tabindex="-1"></a>char_vec4</span>
<span id="cb3-9"><a href="object-types.html#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Which elements of char_vec4 have the letter &#39;a&#39; in them?</span></span>
<span id="cb3-10"><a href="object-types.html#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&#39;a&#39;</span>, char_vec4)  <span class="co"># 1st, 2nd and 4th elements</span></span>
<span id="cb3-11"><a href="object-types.html#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace letter &#39;a&#39; with text &#39;_REPLACED_&#39;</span></span>
<span id="cb3-12"><a href="object-types.html#cb3-12" aria-hidden="true" tabindex="-1"></a>char_vec5 <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">&#39;a&#39;</span>, <span class="st">&#39;_REPLACED_&#39;</span>, char_vec4)</span>
<span id="cb3-13"><a href="object-types.html#cb3-13" aria-hidden="true" tabindex="-1"></a>char_vec5</span>
<span id="cb3-14"><a href="object-types.html#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Take the first two characters from each element</span></span>
<span id="cb3-15"><a href="object-types.html#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="fu">substr</span>(char_vec5, <span class="at">start=</span><span class="dv">1</span>, <span class="at">stop=</span><span class="dv">2</span>)</span>
<span id="cb3-16"><a href="object-types.html#cb3-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-17"><a href="object-types.html#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Example of vector coercion</span></span>
<span id="cb3-18"><a href="object-types.html#cb3-18" aria-hidden="true" tabindex="-1"></a>num_vec1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">8</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb3-19"><a href="object-types.html#cb3-19" aria-hidden="true" tabindex="-1"></a>coerced_vec <span class="ot">&lt;-</span> <span class="fu">c</span>(num_vec1, char_vec1)</span>
<span id="cb3-20"><a href="object-types.html#cb3-20" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(coerced_vec)  <span class="co"># The numbers have been coerced into characters</span></span></code></pre></div>
</div>
<div id="factor-vectors" class="section level3 hasAnchor" number="2.1.3">
<h3><span class="header-section-number">2.1.3</span> Factor vectors<a href="object-types.html#factor-vectors" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Factors are a compressed (i.e. more efficient) version of characters, for when elements of a character vector are repeated. Think of a categorical variable such as a rating with levels ‘high’, medium’ or ‘low’. Behind the scenes, R stores a mapping of the factor levels into integers, and then stores the full factor vector as a vector of integers.</p>
<p><u>Warning</u>: Do not convert factors into numerics. It will give you these ‘keyed’ integers but discard the key. It is safe, however, to convert factors to characters, which will produce the factor levels as a character vector.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="object-types.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="do">### Factor vectors</span></span>
<span id="cb4-2"><a href="object-types.html#cb4-2" aria-hidden="true" tabindex="-1"></a>fac_vec <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(<span class="fu">c</span>(<span class="st">&#39;high&#39;</span>, <span class="st">&#39;medium&#39;</span>, <span class="st">&#39;low&#39;</span>, <span class="st">&#39;medium&#39;</span>, <span class="st">&#39;low&#39;</span>, <span class="st">&#39;high&#39;</span>, <span class="st">&#39;high&#39;</span>))</span>
<span id="cb4-3"><a href="object-types.html#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(fac_vec)</span>
<span id="cb4-4"><a href="object-types.html#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(fac_vec)</span>
<span id="cb4-5"><a href="object-types.html#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="fu">as.numeric</span>(fac_vec)</span>
<span id="cb4-6"><a href="object-types.html#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="fu">as.character</span>(fac_vec)</span></code></pre></div>
</div>
<div id="logical-vectors" class="section level3 hasAnchor" number="2.1.4">
<h3><span class="header-section-number">2.1.4</span> Logical vectors<a href="object-types.html#logical-vectors" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A logical vector is a binary variable that contains only the values <code>TRUE</code> and <code>FALSE</code> (not in inverted commas), which can be shorted to <code>T</code> and <code>F</code>. Logical vectors are very useful for indexing. They are also used in <code>if</code> statements.</p>
<p>Some common operators for producing logical vectors from other vectors are:</p>
<ul>
<li><code>!</code> in front of a logical vector means ‘not’ – it flips <code>TRUE</code> to <code>FALSE</code> and vice versa.</li>
<li><code>==</code> between two vectors means ‘equals’, and works element by element (see section <a href="object-types.html#object-types-vector-wise">2.2.1</a>).</li>
<li><code>&lt;</code> (less than), <code>&lt;=</code> (less than or equal to), <code>&gt;</code> and <code>&gt;=</code> work similarly to <code>==</code>.
<ul>
<li>Character vectors are treated as alphabetically ordered. Don’t use these operators on factors.</li>
</ul></li>
<li><code>%in%</code>, used like <code>vec1 %in% vec2</code>, returns <code>TRUE</code> for elements of <code>vec1</code> that are present in <code>vec2</code> and <code>FALSE</code> for elements not in <code>vec2</code>.</li>
<li><code>&amp;</code> (and) and <code>|</code> (or) work between two logical vectors.</li>
<li><code>which()</code> converts a logical vector into an integer vector stating the positions of <code>TRUE</code> elements.</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="object-types.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="do">### Logical vectors </span></span>
<span id="cb5-2"><a href="object-types.html#cb5-2" aria-hidden="true" tabindex="-1"></a>log_vec1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>)</span>
<span id="cb5-3"><a href="object-types.html#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(log_vec1)</span>
<span id="cb5-4"><a href="object-types.html#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span>(log_vec1)  <span class="co"># which() returns an integer vector of the positions of TRUEs</span></span>
<span id="cb5-5"><a href="object-types.html#cb5-5" aria-hidden="true" tabindex="-1"></a>log_vec1 <span class="sc">*</span> <span class="dv">2</span>  <span class="co"># T and F are converted to 0 and 1 when mathematical oeprations are applied</span></span>
<span id="cb5-6"><a href="object-types.html#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(log_vec1)  <span class="co"># So the sum of a logical vector is how many TRUEs are in it</span></span>
<span id="cb5-7"><a href="object-types.html#cb5-7" aria-hidden="true" tabindex="-1"></a>log_vec2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">3</span>, <span class="dv">7</span>, <span class="sc">-</span><span class="dv">1</span>) <span class="sc">&lt;</span> <span class="dv">4</span>  <span class="co"># Logical vectors can be created by conditions</span></span>
<span id="cb5-8"><a href="object-types.html#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="fu">identical</span>(log_vec1, log_vec2)</span>
<span id="cb5-9"><a href="object-types.html#cb5-9" aria-hidden="true" tabindex="-1"></a>log_vec3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="fl">2.5</span>, <span class="dv">2</span>, <span class="sc">-</span><span class="dv">2</span>, <span class="dv">2</span>) <span class="sc">==</span> <span class="dv">2</span></span>
<span id="cb5-10"><a href="object-types.html#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="fu">identical</span>(log_vec1, log_vec3)</span>
<span id="cb5-11"><a href="object-types.html#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="fu">identical</span>(log_vec1, <span class="sc">!</span><span class="fu">c</span>(F, F, T, T, F, T, F))  <span class="co"># The operator ! flips TRUE and FALSE.</span></span>
<span id="cb5-12"><a href="object-types.html#cb5-12" aria-hidden="true" tabindex="-1"></a>even_numbers <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="at">by=</span><span class="dv">2</span>)</span>
<span id="cb5-13"><a href="object-types.html#cb5-13" aria-hidden="true" tabindex="-1"></a>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) <span class="sc">%in%</span> even_numbers  <span class="co"># Example of %in%. Result is always same length as LHS vector.</span></span>
<span id="cb5-14"><a href="object-types.html#cb5-14" aria-hidden="true" tabindex="-1"></a>log_vec4 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>)</span>
<span id="cb5-15"><a href="object-types.html#cb5-15" aria-hidden="true" tabindex="-1"></a>log_vec5 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">FALSE</span>, <span class="cn">TRUE</span>)</span>
<span id="cb5-16"><a href="object-types.html#cb5-16" aria-hidden="true" tabindex="-1"></a>log_vec4 <span class="sc">|</span> log_vec5</span>
<span id="cb5-17"><a href="object-types.html#cb5-17" aria-hidden="true" tabindex="-1"></a>log_vec4 <span class="sc">&amp;</span> log_vec5</span></code></pre></div>
</div>
<div id="date-vectors" class="section level3 hasAnchor" number="2.1.5">
<h3><span class="header-section-number">2.1.5</span> Date vectors<a href="object-types.html#date-vectors" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>There are several types of date vectors in R. For now, this section just covers the simplest approach, which in some cases will not be the best, but it always works. This involves storing dates as character vectors with the format ‘yyyy-mm-dd’. Some characteristics of this approach:</p>
<ul>
<li><u>Simple</u> – no package dependencies, no type-specific behaviour to understand. Just keep an eye out that R does not try to convert the vector into a factor or a non-character date format.</li>
<li><u>No times</u> – obviously this just works with calendar days, not hours, minutes, etc.</li>
<li><u>Correct ordering</u>: for example, <code>2021-02-01 &gt; 2021-01-31</code> reliably returns <code>TRUE</code> – and this works correctly for all dates – because R treats characters as alphabetically ordered. That is, R checks left to right along the 10 positions in each character, and as soon as there’s a position where one character is greater than then other (e.g. ‘b’ is greater than ‘a’; ‘2’ is greater than ‘1’), it determines that to be the higher character vector element.</li>
<li><u>Unintelligent</u>: While this will order dates correctly, it will usually not be able to tell you how many days or months there are between two dates. Other date types can do that.</li>
<li><u>But easy to make smarter</u>: It’s easy to write functions that manipulate these dates in useful ways. See section <a href="functions.html#functions-user-defined-functions">4.1</a> for an uncomplicated function that converts any of these dates to a quarter end.</li>
<li><u>Can be slow</u>. For large datasets, it can be slow relative to other date types, for the same reason than factor vectors are more memory efficient than character vectors.</li>
</ul>
<!-- This page looks like a good info source: https://shanghai.hosting.nyu.edu/data/r/dates-and-times.html -->
</div>
</div>
<div id="vector-operations-and-indexing" class="section level2 hasAnchor" number="2.2">
<h2><span class="header-section-number">2.2</span> Vector operations and indexing<a href="object-types.html#vector-operations-and-indexing" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This section discusses features of working with vectors that apply to all vector types.</p>
<div id="object-types-vector-wise" class="section level3 hasAnchor" number="2.2.1">
<h3><span class="header-section-number">2.2.1</span> Vector-wise operations and recycling<a href="object-types.html#object-types-vector-wise" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><b>Operations on vectors run element by element</b>. To understand what this means, run the code chunk below.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="object-types.html#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="at">by=</span><span class="dv">1</span>)</span>
<span id="cb6-2"><a href="object-types.html#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="at">by=</span><span class="dv">1</span>) <span class="sc">*</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="at">by=</span><span class="dv">1</span>)</span></code></pre></div>
<p>The result of the second line above is a vector where:
1. The first element is the product of the first elements of x1 and x2,
2. The second element is the product of the second elements of x1 and x2,
3. Etc.</p>
<p><b>Vector-wise operations still work if the two vectors have different lengths.</b> There are two ways this can happen:</p>
<ul>
<li><b>Good</b>: one of the vectors is length one, for example the <code>2</code> in <code>seq(1, 6, by=1) / 2</code>. This is handy and is used a lot.</li>
<li><b>Bad</b>: the vectors have different lengths, but neither is length one, for example <code>seq(1, 6, by=1) / c(2, 3)</code>.
<ul>
<li><u>Recycling</u>. In this case, R recycles the shorter vector by repeating it until it’s the length of the longer vector. In some but not all cases a warning is shown on screen.</li>
<li><u>Avoid this type of recycling</u>. It’s better for your code to be more explicit about what it’s doing. So, for example, write <code>seq(1, 6, by=1) / rep(c(2, 3), 3)</code> instead of <code>seq(1, 6, by=1) / c(2, 3)</code>.</li>
<li>Some packages don’t let you recycle, for this reason.</li>
</ul></li>
</ul>
</div>
<div id="named-vector-elements" class="section level3 hasAnchor" number="2.2.2">
<h3><span class="header-section-number">2.2.2</span> Named vector elements<a href="object-types.html#named-vector-elements" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Vector elements can have names. Elements can be named when the vector is created, using <code>=</code> with the names on the LHS, or they can be assigned afterward.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="object-types.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Name the elements when the vector is created</span></span>
<span id="cb7-2"><a href="object-types.html#cb7-2" aria-hidden="true" tabindex="-1"></a>num_vec_named1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">a=</span><span class="dv">1</span>, <span class="at">b=</span><span class="dv">2</span>, <span class="at">c=</span><span class="dv">3</span>, <span class="at">d=</span><span class="dv">4</span>, <span class="at">e=</span><span class="dv">5</span>)</span>
<span id="cb7-3"><a href="object-types.html#cb7-3" aria-hidden="true" tabindex="-1"></a>num_vec_named1</span>
<span id="cb7-4"><a href="object-types.html#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(num_vec_named1)</span>
<span id="cb7-5"><a href="object-types.html#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(num_vec_named1)</span>
<span id="cb7-6"><a href="object-types.html#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Create an unnamed vector, then assign names to it.</span></span>
<span id="cb7-7"><a href="object-types.html#cb7-7" aria-hidden="true" tabindex="-1"></a>num_vec_named2 <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb7-8"><a href="object-types.html#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(num_vec_named2)</span>
<span id="cb7-9"><a href="object-types.html#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(num_vec_named2)</span>
<span id="cb7-10"><a href="object-types.html#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(num_vec_named2) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;a&#39;</span>, <span class="st">&#39;b&#39;</span>, <span class="st">&#39;c&#39;</span>, <span class="st">&#39;d&#39;</span>, <span class="st">&#39;e&#39;</span>)</span>
<span id="cb7-11"><a href="object-types.html#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(num_vec_named2)</span></code></pre></div>
</div>
<div id="how-to-index-vectors" class="section level3 hasAnchor" number="2.2.3">
<h3><span class="header-section-number">2.2.3</span> How to index vectors<a href="object-types.html#how-to-index-vectors" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Indexing is for extracting a subset of an object. Vectors are indexed with another ‘indexing vector’ inside <code>[]</code>. For example, <code>num_vec[2]</code> returns just the second element of <code>num_vec</code>, and <code>num_vec[c(2, 4)]</code> returns the second and fourth elements. (The first position of a vector is 1, not 0 as in some other languages.)</p>
<p>Inside <code>[]</code> can be one of:</p>
<ul>
<li><u>An integer vector</u>, specifying the positions of the elements to extract.</li>
<li><u>A logical vector</u>, where <code>TRUE</code> in the logical vector specifies the elements to extract.
<ul>
<li><u>A powerful tool</u>: To extract elements based on a condition, create and index with a logical vector in a single step. Examples in the code below.</li>
<li><u>Length of the indexing vector</u>. The logical vector in the index operators should be the same length as the vector being indexed. If it isn’t, and it still works (i.e. no error), the logical vector has been ‘recycled’ to the length of the indexed vector.</li>
</ul></li>
<li><u>A character vector of names</u>, which extracts the elements with those names.</li>
</ul>
<p>Note that <code>num_vec[2, 4]</code> does not work because it is providing the index operators <em>two</em> vectors (<code>2</code> and <code>4</code>) rather than one as in the case of <code>num_vec[c(2, 4)]</code>.</p>
<p><b>Indexing best practice</b>: once you get going with R, always try to avoid indexing with integers, for any object type. This is because often you want to add elements to vectors (and to other object types) which can end up changing element positions. Integer indexing can then return the wrong thing. If you instead index using names or conditions (i.e. logical vectors), your code will be more flexible and robust.</p>
<p><b>Combine indexing with assignment</b> to modify parts of an existing object. For example, <code>num_vec[c(3, 4)] &lt;- 0</code> changes the third and fourth elements to zero.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="object-types.html#cb8-1" aria-hidden="true" tabindex="-1"></a>num_vec1 <span class="ot">&lt;-</span> <span class="fu">runif</span>(<span class="dv">25</span>, <span class="at">min=</span><span class="sc">-</span><span class="dv">1</span>, <span class="at">max=</span><span class="dv">1</span>)  <span class="co"># Create random uniform vector length 25</span></span>
<span id="cb8-2"><a href="object-types.html#cb8-2" aria-hidden="true" tabindex="-1"></a>num_vec1</span>
<span id="cb8-3"><a href="object-types.html#cb8-3" aria-hidden="true" tabindex="-1"></a>num_vec1[<span class="dv">1</span>]  <span class="co"># Index with integer to extract the first element</span></span>
<span id="cb8-4"><a href="object-types.html#cb8-4" aria-hidden="true" tabindex="-1"></a>num_vec1[<span class="fu">c</span>(<span class="dv">1</span>, <span class="fu">length</span>(num_vec1))]  <span class="co"># Integers to extract first and last elements</span></span>
<span id="cb8-5"><a href="object-types.html#cb8-5" aria-hidden="true" tabindex="-1"></a>num_vec2 <span class="ot">&lt;-</span> num_vec1[num_vec1 <span class="sc">&gt;=</span> <span class="dv">0</span>]  <span class="co"># Extract only the positive components</span></span>
<span id="cb8-6"><a href="object-types.html#cb8-6" aria-hidden="true" tabindex="-1"></a>num_vec2</span>
<span id="cb8-7"><a href="object-types.html#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Give the elements names and extract based on that</span></span>
<span id="cb8-8"><a href="object-types.html#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(num_vec1) <span class="ot">&lt;-</span> letters[<span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(num_vec1)]  <span class="co"># &#39;letters&#39; contains a to z</span></span>
<span id="cb8-9"><a href="object-types.html#cb8-9" aria-hidden="true" tabindex="-1"></a>num_vec1[<span class="fu">c</span>(<span class="st">&#39;a&#39;</span>, <span class="st">&#39;y&#39;</span>)]</span>
<span id="cb8-10"><a href="object-types.html#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Create an arbitrary vector with some NAs in it</span></span>
<span id="cb8-11"><a href="object-types.html#cb8-11" aria-hidden="true" tabindex="-1"></a>num_vec3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">2</span>, <span class="cn">NA</span>, <span class="fl">3.5</span>, <span class="dv">11</span><span class="sc">:</span><span class="dv">9</span>, <span class="cn">NA</span>, <span class="fu">rep</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="at">times=</span><span class="dv">4</span>), <span class="cn">NA</span>, <span class="fu">seq</span>(<span class="dv">20</span>, <span class="dv">30</span>, <span class="at">by=</span><span class="dv">2</span>))</span>
<span id="cb8-12"><a href="object-types.html#cb8-12" aria-hidden="true" tabindex="-1"></a>num_vec3</span>
<span id="cb8-13"><a href="object-types.html#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove the NAs by creating a logical vector and indexing with it</span></span>
<span id="cb8-14"><a href="object-types.html#cb8-14" aria-hidden="true" tabindex="-1"></a>num_vec4 <span class="ot">&lt;-</span> num_vec3[<span class="sc">!</span><span class="fu">is.na</span>(num_vec3)]</span>
<span id="cb8-15"><a href="object-types.html#cb8-15" aria-hidden="true" tabindex="-1"></a>num_vec4</span>
<span id="cb8-16"><a href="object-types.html#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Or alternatively, combine indexing and assignment to change all the NAs to zero</span></span>
<span id="cb8-17"><a href="object-types.html#cb8-17" aria-hidden="true" tabindex="-1"></a>num_vec4 <span class="ot">&lt;-</span> num_vec3</span>
<span id="cb8-18"><a href="object-types.html#cb8-18" aria-hidden="true" tabindex="-1"></a>num_vec4[<span class="fu">is.na</span>(num_vec4)] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb8-19"><a href="object-types.html#cb8-19" aria-hidden="true" tabindex="-1"></a>num_vec4</span></code></pre></div>
<p>The other two main indexing operators are <code>[[]]</code> and <code>$</code>. We’ll come back to them.</p>
</div>
</div>
<div id="arrays" class="section level2 hasAnchor" number="2.3">
<h2><span class="header-section-number">2.3</span> Arrays<a href="object-types.html#arrays" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>An array is a multi-dimensional extension of a vector</strong>. A two-dimensional array is called a matrix. Arrays can also have more dimensions, although this does get used much. Data frames tend to be more useful than arrays, because in an array all columns must be the same data type, but arrays are worth a quick look, because data-frame indexing builds from array indexing. Arrays are also useful for mathematical operations. Let’s focus on two dimensional arrays (i.e. matrices).</p>
<p>Some things worth knowing about arrays:</p>
<ul>
<li><u>Single data type</u>. Like vectors, arrays can only contain a single data type, either numeric, character or logical.</li>
<li><u>Arrays are indexed with a vector for each dimension, separated by commas</u>. For example, in <code>matrix1[vec1, vec2]</code>, <code>vec1</code> specifies the rows to extract and <code>vec2</code> the columns.
<ul>
<li>To extract some rows and all columns, or vice versa, leave one of the dimension indexes blank, e.g. <code>[vec1, ]</code> or <code>[, vec2]</code>.</li>
<li>The indexing vectors (e.g. <code>vec1</code>, <code>vec2</code>) can be integer, logical or character vectors, like when indexing a vector.</li>
<li>If the array has three dimensions, it is indexed with <code>array1[vec1, vec2, vec3]</code>, and likewise for four or more dimensions.</li>
</ul></li>
<li><u>Names</u>. Arrays can have column names, or row names, or both.</li>
<li><u>Dimension attribute</u>. Arrays have a dimension attribute, which is an integer vector where each element specifies the length of the dimension. See the example code below.</li>
</ul>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="object-types.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="do">### Arrays</span></span>
<span id="cb9-2"><a href="object-types.html#cb9-2" aria-hidden="true" tabindex="-1"></a>num_array1 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">seq</span>(<span class="dv">10</span>, <span class="dv">200</span>, <span class="at">by=</span><span class="dv">10</span>), <span class="at">nrow=</span><span class="dv">5</span>, <span class="at">ncol=</span><span class="dv">4</span>)  <span class="co"># matrix() creates a 2D array</span></span>
<span id="cb9-3"><a href="object-types.html#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(num_array1)  <span class="co"># [1:5, 1:4] shows it&#39;s an array, with rows 1 to 5 and cols 1 to 4.</span></span>
<span id="cb9-4"><a href="object-types.html#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(num_array1)  <span class="co"># Dimension attribute is a two-element vector of integers.</span></span>
<span id="cb9-5"><a href="object-types.html#cb9-5" aria-hidden="true" tabindex="-1"></a>num_vec1 <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">10</span>, <span class="dv">50</span>, <span class="at">by=</span><span class="dv">10</span>)</span>
<span id="cb9-6"><a href="object-types.html#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(num_vec1)  <span class="co"># Vectors don&#39;t have a dimension attribute</span></span>
<span id="cb9-7"><a href="object-types.html#cb9-7" aria-hidden="true" tabindex="-1"></a>num_array1 <span class="sc">%*%</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>  <span class="co"># Arrays allow matrix algebra. Matrix products are %*% (outer are %o%)</span></span>
<span id="cb9-8"><a href="object-types.html#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Column and row names</span></span>
<span id="cb9-9"><a href="object-types.html#cb9-9" aria-hidden="true" tabindex="-1"></a>num_array_named <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">seq</span>(<span class="dv">10</span>, <span class="dv">200</span>, <span class="at">by=</span><span class="dv">10</span>), <span class="at">nrow=</span><span class="dv">5</span>, <span class="at">ncol=</span><span class="dv">4</span>)</span>
<span id="cb9-10"><a href="object-types.html#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(num_array_named) <span class="ot">&lt;-</span> letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>]</span>
<span id="cb9-11"><a href="object-types.html#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(num_array_named) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;row1&#39;</span>, <span class="st">&#39;row2&#39;</span>, <span class="st">&#39;row3&#39;</span>, <span class="st">&#39;row4&#39;</span>, <span class="st">&#39;row5&#39;</span>)</span>
<span id="cb9-12"><a href="object-types.html#cb9-12" aria-hidden="true" tabindex="-1"></a>num_array_named</span>
<span id="cb9-13"><a href="object-types.html#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Indexing </span></span>
<span id="cb9-14"><a href="object-types.html#cb9-14" aria-hidden="true" tabindex="-1"></a>num_array1[<span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>), ]  <span class="co"># To include all columns, leave the column index empty</span></span>
<span id="cb9-15"><a href="object-types.html#cb9-15" aria-hidden="true" tabindex="-1"></a>num_array1[, <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>)]  <span class="co"># Vice versa for all rows</span></span>
<span id="cb9-16"><a href="object-types.html#cb9-16" aria-hidden="true" tabindex="-1"></a>num_array_named[<span class="st">&#39;row2&#39;</span>, <span class="st">&#39;c&#39;</span>]  <span class="co"># Index with row and column names</span></span>
<span id="cb9-17"><a href="object-types.html#cb9-17" aria-hidden="true" tabindex="-1"></a>num_array_named[<span class="dv">2</span>, <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>)]  <span class="co"># Index with row and column integers</span></span>
<span id="cb9-18"><a href="object-types.html#cb9-18" aria-hidden="true" tabindex="-1"></a>num_array_named[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="fu">c</span>(<span class="st">&#39;a&#39;</span>, <span class="st">&#39;b&#39;</span>)]  <span class="co"># Index with row integers and column names</span></span></code></pre></div>
<p>The base R ‘Titanic’ dataset gives an example of an multi-dimensional array – it has 4 dimensions. It has a matrix for each value of {Adult, Child}, and for each value of {Survived Yes, Surivived No}.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="object-types.html#cb10-1" aria-hidden="true" tabindex="-1"></a>Titanic</span>
<span id="cb10-2"><a href="object-types.html#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(Titanic)</span>
<span id="cb10-3"><a href="object-types.html#cb10-3" aria-hidden="true" tabindex="-1"></a>Titanic[, , , <span class="st">&#39;Yes&#39;</span>]  <span class="co"># Slice only 1 val from 4th dimension to return 3D object</span></span>
<span id="cb10-4"><a href="object-types.html#cb10-4" aria-hidden="true" tabindex="-1"></a>Titanic[, , <span class="st">&#39;Adult&#39;</span>, <span class="st">&#39;Yes&#39;</span>]  <span class="co"># Slice vals from 3rd and 4th dimensions to return 2D object</span></span>
<span id="cb10-5"><a href="object-types.html#cb10-5" aria-hidden="true" tabindex="-1"></a>Titanic[, <span class="st">&#39;Female&#39;</span>, <span class="st">&#39;Adult&#39;</span>, <span class="st">&#39;Yes&#39;</span>]  <span class="co"># Return 1D object (i.e. vector)</span></span>
<span id="cb10-6"><a href="object-types.html#cb10-6" aria-hidden="true" tabindex="-1"></a>Titanic[<span class="st">&#39;Crew&#39;</span>, <span class="st">&#39;Female&#39;</span>, <span class="st">&#39;Adult&#39;</span>, <span class="st">&#39;Yes&#39;</span>]  <span class="co"># Return zero dimension object (i.e. scalar)</span></span></code></pre></div>
</div>
<div id="data-frames" class="section level2 hasAnchor" number="2.4">
<h2><span class="header-section-number">2.4</span> Data frames<a href="object-types.html#data-frames" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><b>A data frame stores a dataset.</b> It’s likely to be the object type you use most. The following information is about base R data frames, but also applies to data tables and tibbles.</p>
<p>Some characteristics of data frames:</p>
<ul>
<li>A data frame is <u>a collection of same-length vectors</u>, laid out as columns.</li>
<li><u>Columns can be different data types</u> (unlike arrays).</li>
<li>The <u>columns usually have names</u> (e.g. the names of the variables in the dataset).</li>
<li>Data frames can be <u>indexed like arrays</u>, using <code>[, ]</code>. See the discussion of arrays and vectors above.</li>
<li>Individual columns can also be <u>indexed with the dollar symbol</u> <code>$</code>. For example, <code>df$col</code> returns the column named ‘col’ from the data frame named ‘df’.</li>
<li>Data frames (in base R) can have row names but it’s typically considered best practice to not use them.</li>
</ul>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="object-types.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="do">### Dataframes</span></span>
<span id="cb11-2"><a href="object-types.html#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Base R comes with a few example datasets, including a data frame called &#39;iris&#39;. </span></span>
<span id="cb11-3"><a href="object-types.html#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   (Run &#39;data()&#39; to see all example datasets.)</span></span>
<span id="cb11-4"><a href="object-types.html#cb11-4" aria-hidden="true" tabindex="-1"></a>df1 <span class="ot">&lt;-</span> iris</span>
<span id="cb11-5"><a href="object-types.html#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df1)  <span class="co"># Head and tail pull out the beginning and end of data frames (or vectors).</span></span>
<span id="cb11-6"><a href="object-types.html#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(df1, <span class="dv">10</span>)  <span class="co"># The second argument is how many to show. Default is 6.</span></span>
<span id="cb11-7"><a href="object-types.html#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(df1)</span>
<span id="cb11-8"><a href="object-types.html#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(df1)</span>
<span id="cb11-9"><a href="object-types.html#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df1)</span>
<span id="cb11-10"><a href="object-types.html#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Indexing a single column returns it as a vector</span></span>
<span id="cb11-11"><a href="object-types.html#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df1<span class="sc">$</span>Species)</span>
<span id="cb11-12"><a href="object-types.html#cb11-12" aria-hidden="true" tabindex="-1"></a>df1<span class="sc">$</span>Sepal.Length[<span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>]</span>
<span id="cb11-13"><a href="object-types.html#cb11-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Indexing multiple columns returns a smaller dataframe</span></span>
<span id="cb11-14"><a href="object-types.html#cb11-14" aria-hidden="true" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> df1[<span class="dv">1</span><span class="sc">:</span><span class="dv">11</span>, <span class="fu">grepl</span>(<span class="st">&#39;Petal&#39;</span>, <span class="fu">colnames</span>(df1))]</span>
<span id="cb11-15"><a href="object-types.html#cb11-15" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(df2)</span>
<span id="cb11-16"><a href="object-types.html#cb11-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Index the rows with a logical vector that conditions on a column</span></span>
<span id="cb11-17"><a href="object-types.html#cb11-17" aria-hidden="true" tabindex="-1"></a>df1[df1<span class="sc">$</span>Sepal.Width <span class="sc">&gt;</span> <span class="fl">3.5</span>, ]</span>
<span id="cb11-18"><a href="object-types.html#cb11-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Say we know virginica cannot have sepal width above 3.5, so they must be errors.</span></span>
<span id="cb11-19"><a href="object-types.html#cb11-19" aria-hidden="true" tabindex="-1"></a>df_corrected <span class="ot">&lt;-</span> df1</span>
<span id="cb11-20"><a href="object-types.html#cb11-20" aria-hidden="true" tabindex="-1"></a>df_corrected[df_corrected<span class="sc">$</span>Sepal.Width <span class="sc">&gt;</span> <span class="fl">3.5</span>, <span class="st">&#39;Species&#39;</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb11-21"><a href="object-types.html#cb11-21" aria-hidden="true" tabindex="-1"></a>df_corrected</span></code></pre></div>
</div>
<div id="lists" class="section level2 hasAnchor" number="2.5">
<h2><span class="header-section-number">2.5</span> Lists<a href="object-types.html#lists" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><b>A list is a collection of any R objects.</b> A list is like a vector, in that it is a one-dimensional collection of elements. However, the elements can each be anything (e.g. a whole datasets, or another list), and, within the same list, can be different types of objects.</p>
<p>Some characteristics of lists:</p>
<ul>
<li>List elements can have names.</li>
<li>Lists can be indexed with a single integer/logical/character vector inside<code>[ ]</code>, just like how vectors are indexed.</li>
<li>If the elements are named, they can also be indexed with <code>$</code>, like the column of a data frame.</li>
<li>A single element of a list can also be indexed with <code>[[ ]]</code>.
<ul>
<li>This is slightly different to indexing a single element with <code>[]</code>. Double brackets return the element as its own object type; single brackets return a one-element list with the object inside it.</li>
</ul></li>
<li>Sometimes lists are also called vectors, with single-variable vectors distinguished as ‘atomic vectors’. This document only uses ‘vector’ to mean a single-variable vector.</li>
</ul>
<p>: indexing with <code>$</code> uses partial matching, which can cause mistakes if you don’t keep careful track of your names (which most don’t). TO avoid this you can write <code>options("warnPartialMatchDollar"=TRUE)</code> at the beginning of your scripts, so that you get a warning whenever partial matching is used.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="object-types.html#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="do">### Lists</span></span>
<span id="cb12-2"><a href="object-types.html#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Put several types of objects into the same list </span></span>
<span id="cb12-3"><a href="object-types.html#cb12-3" aria-hidden="true" tabindex="-1"></a>num_vec1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">8</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="fl">10.2</span>) </span>
<span id="cb12-4"><a href="object-types.html#cb12-4" aria-hidden="true" tabindex="-1"></a>char_vec1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;put&#39;</span>, <span class="st">&#39;any&#39;</span>, <span class="st">&#39;TEXT&#39;</span>, <span class="st">&#39;at all&#39;</span>, <span class="st">&#39;in&#39;</span>, <span class="st">&#39;here.&#39;</span>)</span>
<span id="cb12-5"><a href="object-types.html#cb12-5" aria-hidden="true" tabindex="-1"></a>num_array1 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">seq</span>(<span class="dv">10</span>, <span class="dv">200</span>, <span class="at">by=</span><span class="dv">10</span>), <span class="at">nrow=</span><span class="dv">5</span>, <span class="at">ncol=</span><span class="dv">4</span>)</span>
<span id="cb12-6"><a href="object-types.html#cb12-6" aria-hidden="true" tabindex="-1"></a>list1 <span class="ot">&lt;-</span> <span class="fu">list</span>(num_vec1, char_vec1, num_array1)</span>
<span id="cb12-7"><a href="object-types.html#cb12-7" aria-hidden="true" tabindex="-1"></a>list1</span>
<span id="cb12-8"><a href="object-types.html#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(list1)</span>
<span id="cb12-9"><a href="object-types.html#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Index the list a few different ways</span></span>
<span id="cb12-10"><a href="object-types.html#cb12-10" aria-hidden="true" tabindex="-1"></a>list1[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)]  <span class="co"># Returns a two-element list</span></span>
<span id="cb12-11"><a href="object-types.html#cb12-11" aria-hidden="true" tabindex="-1"></a>list1[<span class="dv">2</span>]  <span class="co"># Returns a one-element list containing only the second element</span></span>
<span id="cb12-12"><a href="object-types.html#cb12-12" aria-hidden="true" tabindex="-1"></a>list1[[<span class="dv">2</span>]]  <span class="co"># Returns the vector inside the second element</span></span>
<span id="cb12-13"><a href="object-types.html#cb12-13" aria-hidden="true" tabindex="-1"></a>list1[[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)]]  <span class="co"># CAREFUL - a vector inside [[]] does not do what you might expect. This</span></span>
<span id="cb12-14"><a href="object-types.html#cb12-14" aria-hidden="true" tabindex="-1"></a><span class="co">#   takes the second element of the first element, not the first and second elements.</span></span>
<span id="cb12-15"><a href="object-types.html#cb12-15" aria-hidden="true" tabindex="-1"></a>list1[<span class="fu">is.numeric</span>(list1)]</span>
<span id="cb12-16"><a href="object-types.html#cb12-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Give the list names</span></span>
<span id="cb12-17"><a href="object-types.html#cb12-17" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(list1) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;num_vec1&#39;</span>, <span class="st">&#39;char_vec1&#39;</span>, <span class="st">&#39;array1&#39;</span>)</span>
<span id="cb12-18"><a href="object-types.html#cb12-18" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(list1)</span>
<span id="cb12-19"><a href="object-types.html#cb12-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Index it with the names</span></span>
<span id="cb12-20"><a href="object-types.html#cb12-20" aria-hidden="true" tabindex="-1"></a>list1<span class="sc">$</span>char_vec1</span>
<span id="cb12-21"><a href="object-types.html#cb12-21" aria-hidden="true" tabindex="-1"></a>list1[<span class="st">&#39;char_vec1&#39;</span>]</span>
<span id="cb12-22"><a href="object-types.html#cb12-22" aria-hidden="true" tabindex="-1"></a>list1[[<span class="st">&#39;char_vec1&#39;</span>]]</span>
<span id="cb12-23"><a href="object-types.html#cb12-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine assignment with indexing to modify an element</span></span>
<span id="cb12-24"><a href="object-types.html#cb12-24" aria-hidden="true" tabindex="-1"></a>list1<span class="sc">$</span>char_vec1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;You&#39;</span>, <span class="st">&#39;can&#39;</span>, list1<span class="sc">$</span>char_vec1)</span>
<span id="cb12-25"><a href="object-types.html#cb12-25" aria-hidden="true" tabindex="-1"></a>list1[[<span class="st">&#39;char_vec1&#39;</span>]]</span>
<span id="cb12-26"><a href="object-types.html#cb12-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine indexing and assignment to add an element</span></span>
<span id="cb12-27"><a href="object-types.html#cb12-27" aria-hidden="true" tabindex="-1"></a>list1<span class="sc">$</span>num_vec2 <span class="ot">&lt;-</span> <span class="dv">100</span><span class="sc">:</span><span class="dv">109</span></span>
<span id="cb12-28"><a href="object-types.html#cb12-28" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(list1)</span>
<span id="cb12-29"><a href="object-types.html#cb12-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Index with a logical vector, to pull out any elements with &#39;vec&#39; in their name.</span></span>
<span id="cb12-30"><a href="object-types.html#cb12-30" aria-hidden="true" tabindex="-1"></a>list1[<span class="fu">grepl</span>(<span class="st">&#39;vec&#39;</span>, <span class="fu">names</span>(list1))]</span></code></pre></div>
</div>
<div id="if-statements-and-for-loops" class="section level2 hasAnchor" number="2.6">
<h2><span class="header-section-number">2.6</span> ‘If’ statements and ‘for’ loops<a href="object-types.html#if-statements-and-for-loops" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>If statements and for loops both fall in the category called ‘control flows’. Another type of loop not covered here is the ‘while’ loop, which is like a for loop, but stops iterating once some condition is satisfied.</p>
<div id="if-statements" class="section level3 hasAnchor" number="2.6.1">
<h3><span class="header-section-number">2.6.1</span> If statements<a href="object-types.html#if-statements" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>An if statement is essentially a chunk of code gated off by a switch. If the switch is set to <code>TRUE</code> the code runs, and if it’s set to <code>FALSE</code> it doesn’t. If statements always look something like:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="object-types.html#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This code won&#39;t actually run, it&#39;s just illustrative</span></span>
<span id="cb13-2"><a href="object-types.html#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">&lt;</span>single<span class="sc">-</span>element logical vector<span class="sc">&gt;</span>) {</span>
<span id="cb13-3"><a href="object-types.html#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="sc">&lt;</span>one or more lines of code<span class="sc">&gt;</span></span>
<span id="cb13-4"><a href="object-types.html#cb13-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb13-5"><a href="object-types.html#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="co"># or</span></span>
<span id="cb13-6"><a href="object-types.html#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">&lt;</span>single<span class="sc">-</span>element logical vector<span class="sc">&gt;</span>) <span class="sc">&lt;</span>single line of code<span class="sc">&gt;</span></span></code></pre></div>
<p>Some working examples:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="object-types.html#cb14-1" aria-hidden="true" tabindex="-1"></a>run_code <span class="ot">&lt;-</span> <span class="cn">FALSE</span></span>
<span id="cb14-2"><a href="object-types.html#cb14-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb14-3"><a href="object-types.html#cb14-3" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb14-4"><a href="object-types.html#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(run_code) {</span>
<span id="cb14-5"><a href="object-types.html#cb14-5" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> x <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb14-6"><a href="object-types.html#cb14-6" aria-hidden="true" tabindex="-1"></a>  y <span class="ot">&lt;-</span> y <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb14-7"><a href="object-types.html#cb14-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb14-8"><a href="object-types.html#cb14-8" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb14-9"><a href="object-types.html#cb14-9" aria-hidden="true" tabindex="-1"></a>y</span>
<span id="cb14-10"><a href="object-types.html#cb14-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Again but the statement is not bypassed</span></span>
<span id="cb14-11"><a href="object-types.html#cb14-11" aria-hidden="true" tabindex="-1"></a>run_code <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb14-12"><a href="object-types.html#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(run_code) {</span>
<span id="cb14-13"><a href="object-types.html#cb14-13" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> x <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb14-14"><a href="object-types.html#cb14-14" aria-hidden="true" tabindex="-1"></a>  y <span class="ot">&lt;-</span> y <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb14-15"><a href="object-types.html#cb14-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb14-16"><a href="object-types.html#cb14-16" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb14-17"><a href="object-types.html#cb14-17" aria-hidden="true" tabindex="-1"></a>y</span>
<span id="cb14-18"><a href="object-types.html#cb14-18" aria-hidden="true" tabindex="-1"></a><span class="co"># If statements are most useful when the TRUE/FALSE is generated within the code</span></span>
<span id="cb14-19"><a href="object-types.html#cb14-19" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">100</span>)</span>
<span id="cb14-20"><a href="object-types.html#cb14-20" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(x)</span>
<span id="cb14-21"><a href="object-types.html#cb14-21" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="fu">any</span>(x <span class="sc">&gt;</span> <span class="fl">1.5</span>)) x <span class="ot">&lt;-</span> x <span class="sc">-</span> <span class="fl">0.5</span></span>
<span id="cb14-22"><a href="object-types.html#cb14-22" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(x)</span></code></pre></div>
<p>The <code>ifelse()</code> function works similar to an if statement. Functions are discussed further in section <a href="functions.html#functions">4</a>.</p>
</div>
<div id="object-types-loops" class="section level3 hasAnchor" number="2.6.2">
<h3><span class="header-section-number">2.6.2</span> For loops<a href="object-types.html#object-types-loops" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>For loops iteratively apply the same operation to multiple things.</strong> For loops produce the results from one iteration before stepping to the next, and are most useful when the operations need to use results from previous iterations.</p>
<p>Alternatively, when each iteration can be run independently, there are usually better ways than using a for loop. Namely, ‘vectorised’ functions, which do the same thing to every element in a vector, or the ‘apply’ family of functions (see section <a href="functions.html#functions-apply">4.3</a>), which apply a chosen function to every element in some other object. These alternatives tend to run faster – sometimes by a lot – and keep the code cleaner and more reliable.</p>
<p>For loops always look something like:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="object-types.html#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This code won&#39;t actually run, it&#39;s just illustrative</span></span>
<span id="cb15-2"><a href="object-types.html#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(<span class="sc">&lt;</span>arbitrary name<span class="sc">&gt;</span> <span class="cf">in</span> <span class="sc">&lt;</span>loop vector<span class="sc">&gt;</span>) {</span>
<span id="cb15-3"><a href="object-types.html#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="sc">&lt;</span>line<span class="sc">/</span>s of code to run <span class="cf">in</span> each iteration<span class="sc">&gt;</span></span>
<span id="cb15-4"><a href="object-types.html#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="er">&lt;</span>code should reference <span class="st">&#39;abritrary name&#39;</span><span class="sc">&gt;</span></span>
<span id="cb15-5"><a href="object-types.html#cb15-5" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>In the first iteration, the code inside the loop treats replaces the ‘arbitrary name’ object with the first element in the ‘loop vector’, in the second iteration it’s replaced with the second element, and so on for all elements of the loop vector.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="object-types.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Inappropriate use of a for loop</span></span>
<span id="cb16-2"><a href="object-types.html#cb16-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">100</span></span>
<span id="cb16-3"><a href="object-types.html#cb16-3" aria-hidden="true" tabindex="-1"></a>x_log1 <span class="ot">&lt;-</span> <span class="fu">c</span>()  <span class="co"># Set up an empty vector</span></span>
<span id="cb16-4"><a href="object-types.html#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(x)) {</span>
<span id="cb16-5"><a href="object-types.html#cb16-5" aria-hidden="true" tabindex="-1"></a>  x_log1[i] <span class="ot">&lt;-</span> <span class="fu">log</span>(x[i])</span>
<span id="cb16-6"><a href="object-types.html#cb16-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb16-7"><a href="object-types.html#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x, x_log1)</span>
<span id="cb16-8"><a href="object-types.html#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Better alternative: log() is vectorised, so the loop is not needed.</span></span>
<span id="cb16-9"><a href="object-types.html#cb16-9" aria-hidden="true" tabindex="-1"></a>x_log2 <span class="ot">&lt;-</span> <span class="fu">log</span>(x)</span>
<span id="cb16-10"><a href="object-types.html#cb16-10" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x, x_log2)</span>
<span id="cb16-11"><a href="object-types.html#cb16-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Potentially appropriate use of a for loop - turning a vector into cumulative</span></span>
<span id="cb16-12"><a href="object-types.html#cb16-12" aria-hidden="true" tabindex="-1"></a>x_cumul1 <span class="ot">&lt;-</span> <span class="fu">c</span>()  <span class="co"># But this runs slower than doing it as in the next line</span></span>
<span id="cb16-13"><a href="object-types.html#cb16-13" aria-hidden="true" tabindex="-1"></a>x_cumul1 <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="cn">NA</span>, <span class="fu">length</span>(x))  <span class="co"># Faster if the initialised object has the correct length</span></span>
<span id="cb16-14"><a href="object-types.html#cb16-14" aria-hidden="true" tabindex="-1"></a>x_cumul1[<span class="dv">1</span>] <span class="ot">&lt;-</span> x[<span class="dv">1</span>]</span>
<span id="cb16-15"><a href="object-types.html#cb16-15" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span><span class="fu">length</span>(x)) x_cumul1[i] <span class="ot">&lt;-</span> x_cumul1[i<span class="dv">-1</span>] <span class="sc">+</span> x[i]</span>
<span id="cb16-16"><a href="object-types.html#cb16-16" aria-hidden="true" tabindex="-1"></a><span class="co"># But still not a great way, because there&#39;s a vectorised base R function for that.</span></span>
<span id="cb16-17"><a href="object-types.html#cb16-17" aria-hidden="true" tabindex="-1"></a>x_cumul2 <span class="ot">&lt;-</span> <span class="fu">cumsum</span>(x)</span>
<span id="cb16-18"><a href="object-types.html#cb16-18" aria-hidden="true" tabindex="-1"></a><span class="fu">identical</span>(x_cumul1, x_cumul2)</span></code></pre></div>
<!-- In the above, could demonstrate the speed differences, could also give an example of when a loop actually is useful. -->
</div>
</div>
<div id="recap" class="section level2 hasAnchor" number="2.7">
<h2><span class="header-section-number">2.7</span> Recap<a href="object-types.html#recap" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Here’s a quick recap of the main data object types discussed in this section, and how to index them:</p>
<ul>
<li><strong>Vectors</strong> store a single variable, and are R’s most fundamental type of data object.
<ul>
<li><u>Types</u>. Vector types include numeric, character, logical and factor (i.e. categorical variables).</li>
<li><u>Indexing</u>. To index a vector <code>vec1</code>, type <code>vec1[vec2]</code> where <code>vec2</code> is an integer, logical or character vector. Indexing with characters only works on named vectors.</li>
</ul></li>
<li><strong>Data frames</strong> – including popular extensions ‘data tables’ and ‘tibbles’ – store datasets, that is, collections of related variables that can be different types.
<ul>
<li><u>Names</u>. Can have column names and/or row names. Using row names is generally discouraged.</li>
<li><u>Indexing</u>. Indexed with <code>[, ]</code>, similar to vectors, or with <code>$</code> to index an individual column.
<ul>
<li><code>df[vec1, vec2]</code> indexes the <code>vec1</code> rows and the <code>vec2</code> columns. <code>df[vec1, ]</code> indexes all columns and <code>vec1</code> rows, and <code>df[, vec2]</code> the reverse.</li>
<li><code>df$col</code> extracts the column named <code>col1</code>, as a vector.</li>
</ul></li>
<li><u>Two-dimensional arrays</u> are like data frames but all elements must be the same type. Arrays can also have more dimensions.</li>
</ul></li>
<li><strong>Lists</strong> are a more-flexible vector type whose elements can each be any object type (e.g. each element of a list can be a different dataset). Lists are indexed with <code>[[]]</code>, <code>[]</code> or <code>$</code>.
<ul>
<li>If <code>vec1</code> is a single-element vector, <code>list1[[vec1]]</code> extracts the element <code>vec1</code> refers to, as its own object.</li>
<li><code>list1[vec1]</code> returns a list containing the elements of <code>list1</code> referred to by <code>vec1</code>.</li>
<li><code>list1$element1</code> returns the element of <code>list1</code> named <code>element1</code>, as its own object.</li>
</ul></li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="getting-started.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="obtaining-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
